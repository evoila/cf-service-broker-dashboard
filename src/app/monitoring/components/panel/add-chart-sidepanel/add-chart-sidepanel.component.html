<!-- charts$ | async as charts-->
<div class="container" >
    <ul *ngIf="charts$ | async as charts" class="list-group" cdkDropList id="list-one" [cdkDropListConnectedTo]="['list-two']">
        <li class="list-group-item grid-container" *ngFor="let chart of charts" cdkDrag [cdkDragData]="chart"
            (cdkDragStarted)="start($event)" (cdkDragEnded)="end($event)">
            <div class="top-row">
                <h5>{{chart.name}}</h5>
                <button (click)="confirmChartDeletion(chart)"><i class="fa fa-times" aria-hidden="true"></i></button>
            </div>
            <h6>type: {{chart.type}}</h6>
            <div class="img-container"><img src="{{chart.encodedImage}}" alt="image of rendered Chart"></div>
        </li>
    </ul>

    <ul *ngIf="tables$ | async as tables" class="list-group" cdkDropList id="list-one" [cdkDropListConnectedTo]="['list-two']">
        <li class="list-group-item grid-container" *ngFor="let table of tables" cdkDrag [cdkDragData]="table"
            (cdkDragStarted)="start($event)" (cdkDragEnded)="end($event)">
            <div class="top-row">
                <h5>{{table.title}}</h5>
                <button (click)="confirmTableDeletion(table)"><i class="fa fa-times" aria-hidden="true"></i></button>
            </div>
            <!--<h6>type: {{chart.type}}</h6>
            <div class="img-container"><img src="{{chart.encodedImage}}" alt="image of rendered Chart"></div>-->
        </li>

    </ul>
</div>

<ng-template #confirmModal let-c="close" let-d="dismiss">
    <div class="modal-header">
      <h4 *ngIf="chartToDelete != null" class="modal-title" id="modal-title">Chart deletion</h4>
      <h4 *ngIf="tableToDelete != null" class="modal-title" id="modal-title">Table deletion</h4>
      <button type="button" class="close" aria-label="Close button" aria-describedby="modal-title" (click)="modal.dismiss('Cross click')">
        <span aria-hidden="true">&times;</span>
      </button>
    </div>
    <div *ngIf="chartToDelete != null" class="modal-body">
      <p><strong>Are you sure you want to delete <span class="text-primary">{{chartToDelete.name}}</span> ?</strong></p>
      <p><span class="text-danger">Its underlying Aggregation will be deleted as well.</span></p>
    </div>
    <div *ngIf="tableToDelete != null" class="modal-body">
      <p><strong>Are you sure you want to delete <span class="text-primary">{{tableToDelete.title}}</span> ?</strong></p>
    </div>
    <div class="modal-footer">
      <button type="button" class="btn btn-outline-secondary" (click)="modal.dismiss('cancel click')">Cancel</button>
      <button *ngIf="chartToDelete != null" type="button" ngbAutofocus class="btn btn-danger" (click)="deleteChart(chartToDelete)">Ok</button>
      <button *ngIf="tableToDelete != null" type="button" ngbAutofocus class="btn btn-danger" (click)="deleteTable(tableToDelete)">Ok</button>
    </div>
  </ng-template>

  <ng-template #chartNotDeletableModal let-c="close" let-d="dismiss">
    <div class="modal-header">
      <h4 class="modal-title" id="modal-title">Chart not deletable</h4>
      <button type="button" class="close" aria-label="Close button" aria-describedby="modal-title" (click)="modal2.dismiss('Cross click')">
        <span aria-hidden="true">&times;</span>
      </button>
    </div>
    <div class="modal-body">
      <p>This Chart is in used still used by Panel </p>
    </div>
    <div class="modal-footer">
      <button type="button" ngbAutofocus class="btn btn-danger" (click)="modal2.close();">Ok</button>
    </div>
  </ng-template>

  